# 実装計画

## 現在のフェーズ

v2.0.0 を npm に公開済み。コア機能（transcript .jsonl 監視、音声レポート、Ollama 定期要約、マルチプロジェクト対応、対話式設定ウィザード、CLI サブコマンド体系、Claude Code Hooks 連携）はすべて実装完了。フェーズ 6（品質改善・安定性）に着手中。

## 方針変更の経緯

フェーズ 1 ではフック機構を利用してツール実行・通知イベントを音声報告していたが、Claude のテキスト応答（方針説明、結果報告など）はフックでは取得できなかった。`~/.claude/projects/` 配下の transcript .jsonl ファイルを監視することで、Claude の全出力を読み上げ可能になる。詳細は `.ai-agent/surveys/20260215-transcript-jsonl-watcher/README.md` を参照。

## フェーズ 6: 品質改善・安定性

- [ ] プロジェクト切り替え案内が発話されないことがある（再発）＋デバッグ情報の改善（Issue #103）
- [x] 確認待ちの音声案内が回答後に遅れて再生され混乱する（Issue #104）
- [ ] セッション終了時にセッションデータがメモリから解放されない（Issue #109）
- [x] 要約プロンプトの構造を改善し、LLM が解析しやすくする（Issue #106）
- [x] パーミッション確認プロンプトの読み上げ（Issue #23、hook-receiver + hook-watcher で実装）
- [ ] アクティビティが多すぎると要約生成に失敗する（Issue #123）

## フェーズ 7: 音声品質向上

- [ ] Kokoro TTS 対応（ローカル高品質 TTS）

## フェーズ 8: 通知・連携拡張

- [ ] デスクトップ通知（macOS / Linux ネイティブ通知、音声と併用）（Issue #122）
- [ ] プラグインシステム（ユーザー独自の通知ハンドラ拡張機構）
